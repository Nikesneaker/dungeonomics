{% extends 'characters/character_layout.html' %}

{% block title %}
    {% if this_player.pk %}
        {{ this_player.player_name }} 
    {% else %}
        Players 
    {% endif %}
    | {{ block.super }}
{% endblock %}

{% block character_list_title %}Player List{% endblock %}

{% block character_list %}
    {% if players %}
        {% for player in players %}
            <li style="margin-bottom: 10px;">
                <a href="{% url 'characters:player_detail' player_pk=player.id %}">
                    {{ player.player_name }}
                </a>
            </li>
        {% endfor %}
    {% else %}
        <li>You haven't created any Players yet!</li>
    {% endif %}
{% endblock %}

{% block character_contents_extra %}
    <li><a href="{% url 'characters:player_create' %}"><span class="text-success"><i class="fa fa-fw fa-plus" aria-hidden="true"></i> Create Player</span></a></li>
{% endblock %}

{% block character_detail_title %}
    {% if this_player %}
        {{ this_player.player_name }}
    {% else %}
        Players
    {% endif %}
{% endblock %}

{% block character_detail_extra %}
    {% if this_player %}
        <li><a href="{% url 'characters:player_update' player_pk=this_player.pk %}"><span class="text-warning"><i class="fa fa-fw fa-pencil-square-o" aria-hidden="true"></i> Edit Player</span></a></li>
        <li><a href="{% url 'characters:player_delete' player_pk=this_player.pk %}"><span class="text-danger"><i class="fa fa-fw fa-trash" aria-hidden="true"></i> Delete Player</span></a></li>
    {% else %}
        <li><a href="{% url 'characters:player_create' %}"><span class="text-success"><i class="fa fa-fw fa-plus" aria-hidden="true"></i> Create Player</span></a></li>
    {% endif %}
{% endblock %}

{% block character_detail %}
    {% if this_player %}
        <div class="row">
            <div class="col-md-4"><p><strong>Class: </strong>{% if this_player.character_class %}{{ this_player.character_class }}{% else %}None{% endif %}</p></div>
            <div class="col-md-4"><p><strong>Level: </strong>{% if this_player.level %}{{ this_player.level }}{% else %}None{% endif %}</p></div> 
            <div class="col-md-4"><p><strong>Background: </strong>{% if this_player.background %}{{ this_player.background }}{% else %}None{% endif %}</p></div>    
        </div>
        <div class="row">
            <div class="col-md-4"><p><strong>Race: </strong>{% if this_player.race %}{{ this_player.race }}{% else %}None{% endif %}</p></div>
            <div class="col-md-4"><p><strong>Alignment: </strong>{% if this_player.alignment %}{{ this_player.alignment }}{% else %}None{% endif %}</p></div>
            <div class="col-md-4"><p><strong>XP: </strong>{% if this_player.xp %}{{ this_player.xp }}{% else %}None{% endif %}</p></div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-3"><p><strong>Proficiency Bonus: </strong>{% if this_player.proficiency_bonus %}{{ this_player.proficiency_bonus }}{% else %}None{% endif %}</p></div>
            <div class="col-md-3"><p><strong>Armor Class: </strong>{% if this_player.armor_class %}{{ this_player.armor_class }}{% else %}None{% endif %}</p></div> 
            <div class="col-md-3"><p><strong>Initiative: </strong>{% if this_player.initiative %}{{ this_player.initiative }}{% else %}None{% endif %}</p></div>
            <div class="col-md-3"><p><strong>Speed: </strong>{% if this_player.speed %}{{ this_player.speed }}{% else %}None{% endif %}</p></div>       
        </div>
        <hr>
        <div class="row">
            <div class="col-md-4"><p><strong>Age: </strong>{% if this_player.age %}{{ this_player.age }}{% else %}None{% endif %}</p></div>
            <div class="col-md-4"><p><strong>Height: </strong>{% if this_player.height %}{{ this_player.height }}{% else %}None{% endif %}</p></div>
            <div class="col-md-4"><p><strong>Weight: </strong>{% if this_player.weight %}{{ this_player.weight }}{% else %}None{% endif %}</p></div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-2">
                <div class="character-label">
                    <p>STR</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.strength }}</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>DEX</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.dexterity }}</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>CON</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.constitution }}</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>WIS</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.wisdom }}</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>INT</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.intelligence }}</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>CHA</p>
                </div>
                <div class="character-details">
                    <p>{{ this_player.charisma }}</p>
                </div>
            </div>
        </div>

        {% if this_player.attacks %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Attacks and Spellcasting</strong> {{ this_player.attacks|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_player.equipment %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Equipment</strong> {{ this_player.equipment|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_player.feats %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Features and Traits</strong> {{ this_player.feats|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_player.proficiencies %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Proficiencies</strong> {{ this_player.proficiencies|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_player.spells %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Spells</strong> {{ this_player.spells|safe }}</p>
                </div>
            </div>
        {% endif %}

        <hr>

        <div class="row">
            <div class="col-md-6" border: 1px solid black><p><strong>Personality Traits: </strong>{{ this_player.personality|safe }}</p></div>
            <div class="col-md-6"><p><strong>Ideals: </strong>{{ this_player.ideals|safe }}</p></div> 
        </div>
        <div class="row">
            <div class="col-md-6"><p><strong>Bonds: </strong>{{ this_player.bonds|safe }}</p></div>
            <div class="col-md-6"><p><strong>Flaws: </strong>{{ this_player.flaws|safe }}</p></div>       
        </div>

        <hr>

        <div class="row">
            <div class="col-md-12">
                {% if this_player.saving_throws %}<p><strong>Saving Throws</strong> {{ this_player.saving_throws }}</p>{% endif %}
                {% if this_player.skills %}<p><strong>Skills</strong> {{ this_player.skills }}</p>{% endif %}
                {% if this_player.damage_vulnerabilities %}<p><strong>Damage Vulnerabilities</strong> {{ this_player.damage_vulnerabilities }}</p>{% endif %}
                {% if this_player.damage_immunities %}<p><strong>Damage Immunities</strong> {{ this_player.damage_immunities }}</p>{% endif %}
                {% if this_player.condition_immunities %}<p><strong>Condition Immunities</strong> {{ this_player.condition_immunities }}</p>{% endif %}
                {% if this_player.senses %}<p><strong>Senses</strong> {{ this_player.senses }}</p>{% endif %}
                {% if this_player.languages %}<p><strong>Languages</strong> {{ this_player.languages }}</p>{% endif %}
                {% if this_player.challenge_rating %}<p><strong>Challenge</strong> {{ this_player.challenge_rating }}</p>{% endif %}
            </div>
        </div>

        {% if this_player.notes %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <p><strong>Notes</strong> {{ this_player.notes|safe }}</p>
                </div>
            </div>
        {% endif %}

    {% else %}
        <p>You haven't created any Players yet!</p>
    {% endif %}
{% endblock %}