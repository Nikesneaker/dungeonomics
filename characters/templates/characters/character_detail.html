{% extends 'characters/character_layout.html' %}

{% block title %}
    {% if this_character.pk %}
        {{ this_character.name }} 
    {% else %}
        Characters 
    {% endif %}
    | {{ block.super }}
{% endblock %}

{% block character_list_title %}Character List{% endblock %}

{% block character_list %}
    {% if characters %}
        {% for character in characters %}
            <li style="margin-bottom: 10px;">
                <a href="{% url 'characters:character_detail' character_pk=character.pk %}">
                    {{ character.name }}
                </a>
            </li>
        {% endfor %}
    {% else %}
        <li>You haven't created any characters yet!</li>
    {% endif %}
{% endblock %}

{% block character_contents_extra %}
    <li><a href="{% url 'characters:character_create' %}"><span class="text-success"><i class="fa fa-fw fa-plus" aria-hidden="true"></i> Create character</span></a></li>
    <li><a href="{% url 'characters:character_export' %}"><span class="text-warning"><i class="fa fa-fw fa-download" aria-hidden="true"></i> Export characters</span></a></li>
    <li><a href="{% url 'characters:character_import' %}"><span class="text-primary"><i class="fa fa-fw fa-upload" aria-hidden="true"></i> Import characters</span></a></li>
    <li><a href="{% url 'characters:character_srd' %}"><span class="text-default"><i class="fa fa-fw fa-book" aria-hidden="true"></i> SRD characters</span></a></li>
    <li><a href="{% url 'characters:characters_delete' %}"><span class="text-danger"><i class="fa fa-fw fa-trash" aria-hidden="true"></i> Delete characters</span></a></li>
{% endblock %}

{% block character_detail_title %}
    {% if this_character %}
        {{ this_character.name }}
    {% else %}
        Characters
    {% endif %}
{% endblock %}

{% block character_detail_extra %}
    {% if this_character %}
        <li><a href="{% url 'characters:character_update' character_pk=this_character.pk %}"><span class="text-warning"><i class="fa fa-fw fa-pencil-square-o" aria-hidden="true"></i> Edit character</span></a></li>
        <li><a href="{% url 'characters:character_copy' character_pk=this_character.pk %}"><span class="text-success"><i class="fa fa-fw fa-files-o" aria-hidden="true"></i> Copy character</span></a></li>
        <li><a href="{% url 'characters:character_delete' character_pk=this_character.pk %}"><span class="text-danger"><i class="fa fa-fw fa-trash" aria-hidden="true"></i> Delete character</span></a></li>
    {% else %}
        <li><a href="{% url 'characters:character_create' %}"><span class="text-success"><i class="fa fa-fw fa-plus" aria-hidden="true"></i> Create character</span></a></li>
    {% endif %}
{% endblock %}

{% block character_detail %}
    {% if this_character %}
        <div class="row">
            <div class="col-md-12">
                <p>{% if this_character.get_size_display %} {{ this_character.get_size_display }}{% endif %}{% if this_character.creature_type %} {{ this_character.creature_type }}{% endif %}{% if this_character.get_alignment_display %}, {{ this_character.get_alignment_display }}{% endif %}</p>
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-12">
                {% if this_character.challenge_rating %}<p><strong>Challenge Rating</strong> {{ this_character.challenge_rating }}</p>{% endif %}
                {% if this_character.armor_class %}<p><strong>Armor Class</strong> {{ this_character.armor_class }}</p>{% endif %}
                {% if this_character.hit_points %}<p><strong>Hit Points</strong> {{ this_character.hit_points }}</p>{% endif %}
                {% if this_character.speed %}<p><strong>Speed</strong> {{ this_character.speed }}</p>{% endif %}
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-2">
                <div class="character-label">
                    <p>STR</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.strength }} ({{ this_character.strength_mod }})</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>DEX</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.dexterity }} ({{ this_character.dexterity_mod }})</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>CON</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.constitution }} ({{ this_character.constitution_mod }})</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>INT</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.intelligence }} ({{ this_character.intelligence_mod }})</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>WIS</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.wisdom }} ({{ this_character.wisdom_mod }})</p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="character-label">
                    <p>CHA</p>
                </div>
                <div class="character-details">
                    <p>{{ this_character.charisma }} ({{ this_character.charisma_mod }})</p>
                </div>
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-md-12">
                {% if this_character.saving_throws %}<p><strong>Saving Throws</strong> {{ this_character.saving_throws }}</p>{% endif %}
                {% if this_character.skills %}<p><strong>Skills</strong> {{ this_character.skills }}</p>{% endif %}
                {% if this_character.senses %}<p><strong>Senses</strong> {{ this_character.senses }}</p>{% endif %}
                {% if this_character.languages %}<p><strong>Languages</strong> {{ this_character.languages }}</p>{% endif %}
                {% if this_character.damage_vulnerabilities %}<p><strong>Damage Vulnerabilities</strong> {{ this_character.damage_vulnerabilities }}</p>{% endif %}
                {% if this_character.damage_immunities %}<p><strong>Damage Immunities</strong> {{ this_character.damage_immunities }}</p>{% endif %}
                {% if this_character.damage_resistances %}<p><strong>Damage Resistances</strong> {{ this_character.damage_resistances }}</p>{% endif %}
                {% if this_character.condition_immunities %}<p><strong>Condition Immunities</strong> {{ this_character.condition_immunities }}</p>{% endif %}
            </div>
        </div>

        {% if this_character.traits %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <h3>Traits</h3><p>{{ this_character.traits|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_character.actions %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <h3>Actions</h3><p>{{ this_character.actions|safe }}</p>
                </div>
            </div>
        {% endif %}

        {% if this_character.notes %}
            <hr>
            <div class="row">
                <div class="col-md-12">
                    <h3>Notes</h3><p>{{ this_character.notes|safe }}</p>
                </div>
            </div>
        {% endif %}
    {% else %}
        <p>You haven't created any characters yet!</p>
    {% endif %}
{% endblock %}
